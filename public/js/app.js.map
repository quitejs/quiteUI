{"version":3,"sources":["app/Hash.cf","app/block.cf","app/bus.cf","app/config-prod.cf","app/index.cf","app/lit.cf","app/pages/common/frame/index.cf","app/pages/common/frame/show.cf","app/pages/todo/Footer.cf","app/pages/todo/index.cf","app/pages/todo/show.cf","app/pages/todo/store.cf","app/quite/Editor.cf","app/quite/Quite.cf","app/quite/S.coffee","app/quite/Site.cf","app/quite/View.cf","app/quite/base/Block.cf","app/quite/base/Item.cf","app/quite/base/RadioSet.cf","app/quite/form/field.cf","app/quite/form/form.cf","app/quite/i18n/base.cf","app/quite/index.cf","app/quite/piece/Piece.cf","app/quite/piece/constants.cf","app/quite/route.cf","app/quite/slab/Form.cf","app/quite/slab/Icon.cf","app/quite/slab/Item.cf","app/quite/slab/Link.cf","app/quite/slab/LinkRadioSet.cf","app/quite/slab/List.cf","app/quite/slab/Matter.cf","app/quite/slab/Popup.cf","app/quite/slab/RadioSet.cf","app/quite/slab/Row.cf","app/quite/slab/Set.cf","app/quite/slab/TableForm.cf","app/quite/slab/field/TableField.cf","app/quite/under/common.cf","app/quite/under/constants.cf","app/quite/under/index.cf","app/quite/under/test/common.cf","app/quite/under/test/test.cf","app/route.cf","app/slab/ActionLink.cf"],"names":[],"mappings":"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","file":"public/js/app.js","sourcesContent":["window.Hash = class Hash extends Quite\n  constructor: (pageOrHash) ->\n    super\n    @attrs(\n      'page'\n      'action'\n      'params'\n      'hashStr'\n    )\n    if not pageOrHash\n      pageOrHash = window.location.hash\n    if pageOrHash.indexOf('#') >= 0\n      @_hashStr = pageOrHash\n      [hash, @_params] = @_hashStr.split '?'\n      if @_params\n        try\n          @_params = $.querystring @_params\n        catch err \n      [@_page, @_action] = hash.split '/'\n      @_page = @_page.split('#')[1]\n      # @_assemble()\n    else\n      if not pageOrHash\n        pageOrHash = 'home'\n      @page pageOrHash\n      # @_assemble()\n\n  assemble: ->\n    @_hashStr = \"##{@_page}\"\n    if @_action\n      @_hashStr = \"#{@_hashStr}/#{@_action}\"\n    if @_params\n      @_hashStr = \"#{@_hashStr}?#{$.querystring(@_params)}\"\n    @\n\n  trigger: ->\n    @assemble()\n    window.location.hash = @_hashStr\n    # jump @\n","json = JSON\nrequire 'quite'\nrequire './Hash'\nwindow.Ls = \n  setItem: (name, item) ->\n    item = json.stringify item\n    localStorage.setItem name, item\n  getItem: (name) ->\n    item = localStorage.getItem name\n    json.parse item\nrequire './bus'\nrequire './lit'\nLs = localStorage\nblocks = [\n  'common/headbar'\n  # 'site/domain'\n  'common/flash'\n  'todo'\n  'explore/library'\n  'explore/cate'\n  'explore/site'\n  # 'add'\n  # 'servant/list'\n  # 'sheet/manage'\n  'sheet/selectModal'\n  'common/dropdown'\n  # 'common/popMenu'\n  # 'curtain'\n  # 'common/modal'\n  # 'import'\n  'common/sheet'\n  'search/condition'\n  'sheet/title'\n  # 'sheet'\n  'common/page'\n  'common/panel'\n  'common/dish'\n]\n\nshows = P.div('shows')\nfor block in blocks\n  show = require \"pages/#{block}/show\"\n  funcs = _.functions show\n  for func in funcs\n    piece = show[func]()\n    piece.addClass 'clear'\n    shows.C piece\n# headbar = require 'pages/common/headbar/show'\n# page = require 'pages/common/page/show'\n#\n# show = P.div('show').C(\n#   headbar\n#   page\n# )\nwindow.onload = ->\n  $('body').append shows.elmt\n","window.Bus =\n  host: 'http://192.168.1.101:1337'\n  # page: (queryString) ->\n  #   url = 'http://127.0.0.1:1338'\n  #   \"#{url}/#{queryString}\"\n  #\n  # acnt: (queryString) ->\n  #   url = 'http://127.0.0.1:1337'\n  #   \"#{url}/#{queryString}\"\n\n  currentPage: null\n  form: (host, method) ->\n    Bus[host] \"#{host}/#{method}\"\n\n  formSave: (host) ->\nhosts = {}\ntry\n  hosts = require 'config'\ncatch e\n  console.log e\n  hosts = require 'config-prod'\n\nfor host in _.keys hosts\n  do (host)->\n    Bus[host] = (queryString) ->\n      \"#{hosts[host]}/#{queryString}\"\n    Host = host[0].toUpperCase() + host[1..]\n    window[Host] = (queryString, params, cb) =>\n      # console.log 'query', queryString\n      url = Bus[host](queryString)\n      console.log url\n      success = (data, status, obj) ->\n        cb null, data\n\n      post = $.post url, params, success, 'json'\n      post.fail = cb\n\n","module.exports = {}\n","json = JSON\nrequire 'quite'\nrequire 'bus'\nrequire 'lit'\nrequire 'Hash'\nroute = require 'route'\nframe =require 'pages/common/frame'\n\nwindow.onload = ->\n  document.body.appendChild frame.build().elmt\n  route()\n","window.Lit = \n  name: '名称'\n  alias: '简称'\n  des: '说明'\n  confirm: '确定'\n  cancel: '取消'\n  submit: '提交'\n  link: '链接'\n  refresh: '刷新'\n  show: '显示'\n  hide: '隐藏'\n  detail: '详细'\n  back: '返回'\n  change: '修改'\n  title: '标题'\n  save: '保存'\n  index: '首页'\n  explore: '浏览'\n","class Frame extends Block\n  build: ->\n    @piece = P.div('quite').C(\n      @content = P.div('content')\n    )\n\n  setContent: (page) ->\n    @content.C(page.piece)\nmodule.exports = new Frame()\n","","module.exports = class Footer extends Matter\n  render: (@D) ->\n    super @D\n    # @completed.hide()\n    # return\n    # if @D.completed is 0\n    #   @completed.hide()\n    # else\n    #   if @completed._hide\n    #     @completed.show()\n  build: ->\n\n    @set = new StatusSet()\n    @piece = P.footer().id('footer').C(\n      P.span().id('todo-count').C(\n        P.strong().h('active')\n        ' items left'\n      )\n      @set.items(\n        for statu in ['all', 'active', 'completed']\n          item = new StatusItem(statu)\n          item.set(@set)\n      )\n      @set.build()\n      @set.select(0)\n\n      @completed = P.button().id('clear-completed').C(\n        \"Clear completed(\"\n        P.span().h('completed')\n        \")\"\n      ).onclick =>\n        @_page.clearCompleted()\n    )\n    @piece\n\n  refresh: (data)->\n    super\n    if @D.completed is 0\n      @completed.hide()\n    else\n      if @completed._hide\n        @completed.show()\n    \n  select: (index) ->\n    @set.select index\n\n\nclass StatusSet extends RadioSet\n  build: ->\n    @_items || @_items = []\n    @piece = P.ul().id('filters').C(\n      for item in @_items\n        item.build()\n    )\nclass StatusItem extends Item\n  build: ->\n    @piece = P.li().C(\n      @link = P.a().href(\"#todo/#{@D}\").C(@D).onclick =>\n        @_set.select @\n    )\n  select: ->\n    @link.addClass 'selected'\n  unselect: ->\n    @link.removeClass 'selected'\n\n","store = require './store'\nFooter = require './Footer'\nclass Todo extends Block\n  render: (params)=>\n    store.get {}, (err, @D) =>\n  build: ->\n    # status || status = 'all'\n    @items = for todo in @D\n      item = new TodoItem(todo).page(@)\n    @piece = P.div().id('todo').C(\n      P.section(status).id(\"todoapp\").C(\n        P.header().id('header').C(\n          P.h1().C('todos')\n          @newBox = P.inputBox().id('new-todo').placeholder(\n            'What need to be done?'\n          ).autofocus(true).onkeyup (e)=>\n            if e.which is 13\n              todo = {}\n              todo.title = @newBox.value()\n              @newBox.value('')\n              todo.isCompleted = false\n              @add todo\n        )\n        P.section().id('main').C(\n          P.div().style('display:block')\n          @toggler = P.input().id('toggle-all').type('checkbox').onclick =>\n            console.log 'toggle all', @toggler\n            checkStatus = @toggler.elmt.checked\n            for item in @items\n              console.log item.D.isCompleted, checkStatus\n              if item.D.isCompleted isnt checkStatus\n                # item.toggler.checked(checkStatus)\n                item.toggler.elmt.checked = checkStatus\n                item.changeStatus()\n\n          P.label().for('toggle-all').C(\n            'Mark all as complete'\n          )\n          @container = P.ul().id('todo-list').C(\n            for item in @items\n              item.build()\n              item.refresh(item.D).piece\n          )\n        )\n        @footer = new Footer().page(@)\n        @footer.build()\n      )\n    )\n    @updateFooter()\n    @piece\n\n  clearCompleted: ->\n    for i in [@items.length-1..0]\n      item = @items[i]\n      console.log 'item', item\n      if item.D.isCompleted \n        @remove item\n    @updateFooter()\n\n  remove: (item) ->\n    store.del item.D, (err, result) =>\n      index = @items.indexOf item\n      console.log index\n      @D.splice index, 1\n      item.piece.destroy()\n      @items.splice index, 1\n      console.log 'D', @D\n      @updateFooter()\n\n  updateFooter: ->\n    count = @D.length\n    completed = @D.filter (todo) ->\n      todo.isCompleted is true\n    active = @D.filter (todo) ->\n      todo.isCompleted is false\n    info = \n      active: active.length\n      completed: completed.length\n    @footer.refresh info\n  all: =>\n    if @piece\n      @piece.class('')\n    else\n      @build()\n      @footer.select 0\n  active: =>\n    if @piece\n      @piece.class('active')\n    else\n      @build 'active'\n    @footer.select 1\n\n  completed: =>\n    if @piece\n      @piece.class 'complete'\n    else\n      @build 'complete'\n    @footer.select 2\n\n\n  new: (title) ->\n    @newBox.value title\n\n  add: (todo) ->\n    if not todo.title.trim()\n      return\n    store.add todo, (err, todo) =>\n      item = new TodoItem(todo).page(@)\n      @items.unshift item\n      item.build()\n      item.refresh(todo)\n\n      @container.insert item.piece, 0\n      _.insert @D, todo, 0\n      @updateFooter()\n\nclass TodoItem extends Block\n  build: ->\n    console.log 'D', @D\n# style('display:list-item').\n    animateClass = 'animated-item-view animated-item-view-end'\n    @piece = P.li(animateClass).C(\n      P.div('view').C(\n        @toggler = P.input('toggle').type('checkbox').onclick =>\n          @changeStatus()\n\n\n        @view = P.label().h('title').ondblclick (e)=>\n          @piece.addClass 'editing'\n          _.clearSelection()\n          @edit.focus(true)\n\n        P.button('destroy').onclick =>\n          @_page.remove @\n      )\n      @edit = P.input('edit').value(@D.title).onkeyup((e) =>\n        if e.which is 13\n          @changeTitle()\n      ).onblur =>\n        @changeTitle()\n\n    )\n    if @D.isCompleted\n      @piece.addClass 'completed'\n      @toggler.checked(true)\n    @piece\n  changeTitle: ->\n    @piece.removeClass 'editing'\n    @D.title = @edit.value()\n    store.mod @D, (err, @D) =>\n      @refresh @D\n\n  changeStatus: ->\n    @piece.toggleClass 'completed'\n\n\n    @D.isCompleted = not @D.isCompleted\n    store.mod @D, (err, @D) =>\n      @_page.updateFooter()\n    \n\nmodule.exports = todo = new Todo()\n","todo = require './'\nmodule.exports =\n  plain: ->\n    todos = [\n      todo1 = \n        id: 1\n        isCompleted: true\n        title: 'confirm'\n      todo2 = \n        id: 2\n        isCompleted: false\n        title: 'plan'\n      todo3 = \n        id: 3\n        isCompleted: false\n        title: 'work'\n      todo4 = \n        id: 4\n        isCompleted: false\n        title: 'check'\n    ]\n    todo.D = todos\n    todo.build()\n\n\n","# module.exports = store = (hash, cb) ->\n#   todoEntity[hash.action()] hash.params(), cb\n\njson = JSON\nmodule.exports = store =\n  add: (todo, cb) ->\n    todo.id = \"piece-todo-#{new Date().valueOf()}\"\n    lsUtil.setItem todo.id, todo\n    cb null, todo\n\n  del: (todo, cb) ->\n    lsUtil.removeItem todo.id\n    cb null, todo\n\n  mod: (todo, cb) ->\n    console.log 'todo', todo\n    lsUtil.setItem todo.id, todo\n    cb null, todo\n\n  get: (condition, cb) ->\n    todos = []\n    for id, todo of localStorage\n      if id.indexOf('piece-todo') is 0\n        todo = lsUtil.getItem id\n        fit = true\n        for key, value of condition\n          if todo[key] isnt value\n            fit = false\n            break\n        if fit\n          todos.push todo\n    console.log todos\n    todos.reverse()\n    cb null, todos\n\nlsUtil =\n  setItem: (name, item) ->\n    item = json.stringify item\n    console.log 'set', item\n    localStorage.setItem name, item\n  getItem: (name) ->\n    item = localStorage.getItem name\n    console.log 'get', item\n    if item and item isnt 'undefined'\n      json.parse item\n  removeItem: (name) ->\n    localStorage.removeItem name\n","Matter = require './Matter'\nmodule.exports = class Editor extends Matter\n  matter: {}\n  delivery: =>\n    # element = @piece.elmt\n    # holders = $('.pieceHolder', element)\n    # elmts = []\n    # for elmt in holders\n    #   elmts.push elmt\n    #\n    # if element.className.indexOf('pieceHolder') != -1\n    #   elmts.push element\n    #\n    # for elmt in elmts\n    #   attr = elmt.getAttribute('data-holderid')\n    #   attrView = @[\"#{attr}View\"]\n    #   if attrView\n    #     @set attr, attrView()\n    #   else\n    #     @set attr, elmt.textContent\n    @matter.set @attributes\n    @matter.save()\n  accept: (@matter) =>\n    @set @matter.attributes\n\n\n\n","window.Quite = class Quite \n  constructor: ->\n    @_attrs = []\n  attrs: (attrs...) ->\n    for attr in attrs\n      do (attr) =>\n        if attr instanceof Array\n          @attrs attr...\n        else \n          @_attrs.push attr\n          @[attr] = (attrValue) ->\n            if attrValue is undefined\n              @[\"_#{attr}\"]\n            else\n              @[\"_#{attr}\"] = attrValue\n              @\n\n\n# console.log Quite\n# class Person extends Quite\n#   constructor: ->\n#     super\n#     @attrs(\n#       'a'\n#       'b'\n#     )\n#\n# p = new Person()\n# console.log p.a('c')\n# console.log p.b('d')\n  # Block: require 'slab/Block'\n  # constructor: (expand) ->\n  #   if expand && expand instanceof Object\n  #     Object.keys(expand).forEach (key) =>\n  #       @[key] = expand[key]\n  #\n  # proxy: (obj) ->\n  #   _.functions(obj).forEach (name)=>\n  #     @[name] = (args...) ->\n  #       obj[name](args...)\n  #\n","\n\n\n","Matter = require './Matter'\nmodule.exports = class Site extends Matter\n  piece: {}\n  open: ->\n    $('body').append(@piece.elmt)\n  \n","Piece = require 'base/Piece'\nQuite = require 'base/Quite'\n\nmodule.exports = class View extends Quite\n  conf: {}\n  model: {}\n  piece: {}\n\n  constructor: (params) ->\n    @piece = params?.piece\n    @model = params?.model\n    @conf = params?.conf ? {}\n\n  rebirth: (@model) ->\n    @render()\n\n  remove: ->\n    @piece.elmt.remove()\n\n  getTemplateData: ->\n    if @model.toJSON\n      @model.toJSON()\n    else\n      @model\n\n  render:  ->\n    model = @getTemplateData()\n    element = @piece.elmt\n    holders = $('.pieceHolder')\n    elmts = []\n    for elmt in holders\n      elmts.push elmt\n\n    if element.className.indexOf('pieceHolder') != -1\n      elmts.push element\n    console.log 'elmts', elmts\n\n    for elmt in elmts\n      attr = elmt.getAttribute('data-holderid')\n      console.log attr\n      attrView = @conf?[\"#{attr}view\"]\n      if attrView\n        p = attrView(model[attr])\n        # if p instanceof Piece\n        #   elmt.innerHTML = p.elmt.innerHTML\n      else\n        console.log attr\n        elmt.textContent = model[attr]?.toString()\n","window.Block = class Block extends Quite\n  constructor: (@D) ->\n    super\n    @attrs(\n      'page'\n    )\n  D: {}\n  piece: {}\n  feed: (@D) ->\n  render: (@params)->\n    @params || @params = {}\n    if @needAcnt\n      @params.acntId = Bus.user.id\n      @params.acntToken = Bus.user.token\n\n    console.log @params\n    # console.log @dataSrc\n    console.log 'src', @dataSrc\n    if not @dataSrc\n      return\n    done = (data, status) =>\n      console.log 'data', data\n      @D = data\n      console.log 'get', @D\n    fail = ->\n      console.log 'error'\n    $.ajax(\n      url: @dataSrc\n      data: @params\n      dataType: 'json'\n      success: done\n      error: fail\n      async: false\n    )\n\n\n  url: (name)->\n    @_page || @_page = ''\n    \"##{@_page.config.name}/#{name}\"\n\n  remove: ->\n    @piece.remove()\n  \n  # refresh: (attr)->\n  #   if attr\n  #     holder = $('.pieceHolder', @piece.elmt)[0]\n  #     holder.innerText = @D[attr]\n  #   else\n  #     # model = @getTemplateData()\n  #     element = @piece.elmt\n  #     holders = element.getElementById('.pieceHolder')\n  #     elmts = []\n  #     for elmt in holders\n  #       elmts.push elmt\n  #\n  #     if element.className?.indexOf('pieceHolder') != -1\n  #       elmts.push element\n  #\n  #     for elmt in elmts\n  #       attr = elmt.getAttribute('data-holderid')\n  #       attrView = @[\"#{attr}View\"]\n  #       # if attrView?(@get attr)\n  #       #   elmt.innerHTML = attrView(@get attr).elmt?.outerHTML\n  #       # else\n  #       elmt.innerText = @D[attr]\n\n\n\n\n  C: (args...) ->\n    @piece.C args...\n    @\n\n  build: ->\n    P.div('')\n\n  refresh: (data)->\n    if data isnt undefined\n      @D = data\n    # model = @getTemplateData()\n    element = @piece.elmt\n    holders = element.getElementsByClassName('pieceHolder')\n    elmts = []\n    for elmt in holders\n      elmts.push elmt\n    if element.className?.indexOf('pieceHolder') != -1\n      elmts.push element\n\n    for elmt in elmts\n      attr = elmt.getAttribute('data-holderid')\n      attrView = @[\"#{attr}View\"]\n      if attrView?(@D[attr])\n        elmt.innerHTML = attrView(@D[attr]).elmt?.outerHTML\n      else\n        elmt.innerText = @D[attr]\n    @\n","window.Item = class Item extends Block \n  constructor: ->\n    super\n    @attrs(\n      'set'\n    )\n\n  select: ->\n    @piece.addClass 'select'\n  unselect: ->\n    @piece.removeClass 'select'\n  \n  trigger: ->\n    # console.log @link\n    @link.click()\n","window.RadioSet = class RadioSet extends Block\n  constructor: ->\n    super\n    @attrs(\n      'items'\n    )\n    @_select = undefined\n\n  select: (index) ->\n    if index is undefined\n      @_select\n    else\n      if _.isObject index\n        index = @_items.indexOf(index)\n      if index isnt @_select\n        @_items[index].select()\n        if @_select or (@_select is 0)\n          # console.log @_select\n          @_items[@_select].unselect()\n        @_select = index\n","module.exports = class Field\n  constructor: ->\n    super\n    @attrs(\n      'title'\n      'value'\n      'viewer'\n    )\n\n\n","","module.exports =\n  站: \"site\"\n  面: \"page\"\n  块: \"block\"\n  条: \"row\"\n  丁: \"label\"\n  口: \"link\"\n  图: \"image\"\n  影: \"video\"\n  集: \"set\"\n  箱: \"box\"\n  件: \"item\"\n\n\n","require './under'\nrequire './Quite'\nrequire './piece/Piece'\nrequire './base/Block'\nrequire './base/RadioSet'\nrequire './base/Item'\nrequire './slab/Icon'\nrequire './slab/Matter'\nrequire './slab/Set'\nrequire './slab/Form'\nrequire './slab/TableForm'\nrequire './slab/field/TableField'\n\n","constants = require './constants'\nattrs = constants.attrs()\nevents = constants.events()\nprops = constants.props()\nnodeProps = constants.nodeProps()\nprops = props.concat nodeProps\ntags = constants.tags()\nnodeMethods = constants.nodeMethods()\nelmtMethods = constants.elmtMethods()\nhtmlElmtMethods = constants.htmlElmtMethods()\n\nmethods = nodeMethods.concat elmtMethods\nmethods = methods.concat htmlElmtMethods\n\nclass Piece\n  # tag: ''\n  # elmt: ''\n  constructor: (elmt) ->\n    if typeof elmt is 'string'\n      @elmt = document.createElement elmt\n    else if elmt instanceof Element\n      @elmt = elmt\n\n  h: (attr) ->\n    @hold attr\n\n  hold : (attr) ->\n    @elmt.setAttribute('data-holderid', attr)\n    @addClass('pieceHolder')\n    @\n  \n  select: (selector) ->\n    type = selector[0]\n    name = selector[1..]\n    elmts = {}\n    if type is '#'\n      elmt = @elmt.getElementById(name)\n      new Piece elmt\n    else if type is '.'\n      elmts = @elmt.getElementsByClassName(name)\n      new PieceSet elmts\n    else \n      elmts = @elmt.getElementsByTagName(selector)\n      new PieceSet elmts\n\n  render: (data, attrView) ->\n    # model = @getTemplateData()\n    holders = @select('.pieceHolder')\n    elmts = []\n    for elmt in holders\n      elmts.push elmt\n\n    if @class().indexOf('pieceHolder') >= 0\n      holders.elmts.push @\n\n    for piece in holders\n      attr = piece.attr('data-holderid')\n      attrView = @[\"#{attr}View\"]\n      if attrView?(@get attr)\n        elmt.innerHTML = attrView(@get attr).elmt?.outerHTML\n      else\n        elmt.innerText = @get(attr)\n  attr: (name, value) ->\n    if value is undefined\n      @elmt.getAttribute(name)\n    else\n      @elmt.setAttribute(name, value)\n    @\n  replace: (piece) ->\n    newElmt =  @elmt.parentNode.insertBefore piece.elmt, @elmt\n    @remove()\n    @elmt = newElmt\n    @\n\n  hide: ->\n    @_hide = true\n    @style 'display:none'\n    @\n  show: ->\n    if @_hide\n      @_hide = false\n    @style 'display'\n    @\n  addClass : (name) ->\n    @class(\"#{name} #{@className()}\")\n    @\n  \n  removeClass : (name) ->\n    @class(@class().replace(\"#{name}\", ''))\n    @\n\n  toggleClass: (name) ->\n    if @class().indexOf(name) >= 0\n      @removeClass name\n    else\n      @addClass name\n  remove: ->\n    console.log @elmt\n    console.log @elmt.parentNode\n    @elmt.parentElement.removeChild(@elmt)\n\n  destroy: ->\n    @remove()\n\n  insert: (elmt, position) ->\n    if elmt instanceof Piece\n      elmt = elmt.elmt\n    children = @childNodes()\n    if position < 0\n      position = 0\n    if position >= children.length\n      console.log elmt\n      @appendChild elmt\n    else\n      target = children[position]\n      @insertBefore(elmt, target)\n\n  move: (current, targetPosition)->\n    if typeof current is 'number'\n      current = @children current\n    @insert current, targetPosition\n\n  del: (position) ->\n\n  C : (children...) ->\n    if not children\n      return @elmt\n    children.forEach (child) =>\n      if not child\n        return \n      # console.log child\n      if child instanceof Piece\n        @elmt.appendChild child.elmt\n      else if child instanceof Function\n        this.C child()\n      else if child instanceof Array\n        this.C child...\n      else if child.piece\n        this.C child.piece\n      # else if child.build\n      #   this.C child.build()\n      else\n        appendHTML @elmt, child.toString()\n\n    return this\n\n  reC: (children...) ->\n    @elmt.innerHTML = ''\n    @C children...\n\nappendHTML = (parent, html) ->\n  div = document.createElement('div')\n  div.innerHTML = html\n  for child in div.childNodes\n    parent.appendChild child\n    \nattrs.forEach (attr) ->\n  attr = attr.trim()\n  Piece.prototype[attr] = (value) ->\n    if value isnt undefined\n      if value instanceof Piece\n        value = value.elmt\n      @elmt.setAttribute(attr, value)\n      return this\n    else\n      return @elmt.getAttribute(attr)\nevents.forEach (event) ->\n  event = event.trim()\n  Piece.prototype[event] = (func) ->\n    if func\n      @elmt[event] = func\n    return this\nprops.forEach (prop) ->\n  prop = prop.trim()\n  Piece.prototype[prop] = (value) ->\n    if value isnt undefined\n      @elmt[prop] = value\n      return this\n    else\n      return @elmt[prop]\n\nmethods.forEach (method) ->\n  method = method.trim()\n  Piece.prototype[method] = (args...) ->\n    @elmt[method] args...\n\nPiece.prototype.value = (value) ->\n  if value isnt undefined\n    @elmt['value'] = value\n    @\n  else\n    @elmt['value']\n\n\nclass PieceSet \n  constructor: (@elmts) ->\n    @set = []\n    for elmt in @elmts\n      @set.push new Piece(elmt)\n\n  run: (funName, args...) ->\n    for piece in @set\n      piece[funName] args...\n\n\n\nfor func in Object.keys(Piece.prototype)\n  do (func)->\n    if Piece.prototype[func] instanceof Function\n      PieceSet.prototype[func] = (args...) ->\n        @run func, args...\n\nwindow.P = (selector, element) ->\n  element ?= document\n  if selector instanceof Element\n    return new Piece selector\n  type = selector[0]\n  name = selector[1..]\n  elmts = {}\n  if type is '#'\n    elmt = element.getElementById(name)\n    new Piece elmt\n  else if type is '.'\n    elmts = element.getElementsByClassName(name)\n    new PieceSet elmts\n  else \n    elmts = element.getElementsByTagName(selector)\n    new PieceSet elmts\n\n\n\ntags.forEach (tag) ->\n  tag = tag.trim()\n  P[tag] = (className) ->\n    if className\n      new Piece(tag).class(className)\n    else \n      new Piece(tag)\n\nP.inputBox = (className)->\n  if className\n    P.input(className).type('text')\n  else\n    P.input().type('text')\n\n","module.exports = constants =\n  tags : ->\n    return \"doctype,\n      html,\n      head,\n      body,\n      h1,\n      h6,\n      p,\n      ul,\n      ol,\n      dl,\n      a,\n      table,\n      strong,\n      b,\n      div,\n      header,\n      nav,\n      article,\n      footer,\n      aside,\n      section,\n      img,\n      map,\n      area,\n      form,\n      input,\n      !DOCTYPE,\n      a,\n      abbr,\n      acronym,\n      address,\n      applet,\n      area,\n      article,\n      aside,\n      audio,\n      b,\n      base,\n      basefont,\n      bdi,\n      bdo,\n      big,\n      blockquote,\n      body,\n      br,\n      button,\n      canvas,\n      caption,\n      center,\n      cite,\n      code,\n      col,\n      colgroup,\n      command,\n      datalist,\n      dd,\n      del,\n      details,\n      dfn,\n      dir,\n      div,\n      dl,\n      dt,\n      em,\n      embed,\n      fieldset,\n      figcaption,\n      figure,\n      font,\n      footer,\n      form,\n      frame,\n      frameset,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6,\n      head,\n      header,\n      hgroup,\n      hr,\n      html,\n      i,\n      iframe,\n      img,\n      input,\n      ins,\n      kbd,\n      keygen,\n      label,\n      legend,\n      li,\n      link,\n      map,\n      mark,\n      menu,\n      meta,\n      meter,\n      nav,\n      noframes,\n      noscript,\n      object,\n      ol,\n      optgroup,\n      option,\n      output,\n      p,\n      param,\n      pre,\n      progress,\n      q,\n      rp,\n      rt,\n      ruby,\n      s,\n      samp,\n      script,\n      section,\n      select,\n      small,\n      source,\n      span,\n      strike,\n      strong,\n      style,\n      sub,\n      summary,\n      sup,\n      table,\n      tbody,\n      td,\n      textarea,\n      tfoot,\n      th,\n      thead,\n      time,\n      title,\n      tr,\n      track,\n      tt,\n      u,\n      ul,\n      var,\n      video,\n      wbr,\n      abbr,\n      object\".split ',' \n\n  attrs: ->\n    return \"accept,\n      accept-charset,\n      accesskey,\n      action,\n      align,\n      alt,\n      async,\n      autocomplete,\n      autofocus,\n      autoplay,\n      bgcolor,\n      border,\n      buffered,\n      challenge,\n      charset,\n      checked,\n      cite,\n      class,\n      code,\n      codebase,\n      color,\n      cols,\n      colspan,\n      content,\n      contenteditable,\n      contextmenu,\n      controls,\n      coords,\n      data,\n      datetime,\n      default,\n      defer,\n      dir,\n      dirname,\n      disabled,\n      download,\n      draggable,\n      dropzone,\n      enctype,\n      for,\n      form,\n      headers,\n      height,\n      hidden,\n      high,\n      href,\n      hreflang,\n      http-equiv,\n      icon,\n      id,\n      ismap,\n      itemprop,\n      keytype,\n      kind,\n      label,\n      lang,\n      language,\n      list,\n      loop,\n      low,\n      manifest,\n      max,\n      maxlength,\n      media,\n      method,\n      min,\n      multiple,\n      name,\n      novalidate,\n      open,\n      optimum,\n      pattern,\n      ping,\n      placeholder,\n      poster,\n      preload,\n      pubdate,\n      radiogroup,\n      readonly,\n      rel,\n      required,\n      reversed,\n      rows,\n      rowspan,\n      sandbox,\n      spellcheck,\n      scope,\n      scoped,\n      seamless,\n      selected,\n      shape,\n      size,\n      sizes,\n      span,\n      src,\n      srcdoc,\n      srclang,\n      start,\n      step,\n      style,\n      summary,\n      tabindex,\n      target,\n      title,\n      type,\n      usemap,\n      value,\n      width,\n      wrap\".split ','\n\n  events : ->\n    return \"onabort\n      ,onblur\n      ,onchange\n      ,onclick\n      ,onclose\n      ,oncontextmenu\n      ,ondblclick\n      ,onerror\n      ,onfocus\n      ,oninput\n      ,onkeydown\n      ,onkeypress\n      ,onkeyup\n      ,onload\n      ,onmousedown\n      ,onmousemove\n      ,onmouseout\n      ,onmouseover\n      ,onmouseup\n      ,onscroll\n      ,onselect\n      ,onsubmit\".split ','\n  props: ->\n    return \"classList\n      ,className\n      ,clientHeight\n      ,clientLeft\n      ,clientTop\n      ,clientWidth\n      ,id\n      ,innerHTML\n      ,outerHTML\n      ,scrollHeight\n      ,scrollLeft\n      ,scrollTop\n      ,scrollWidth\n      ,tagName\".split ','\n  nodeProps: -> \n    return \"attributes\n      ,baseURI\n      ,baseURIObject\n      ,childNodes\n      ,firstChild\n      ,lastChild\n      ,localName\n      ,namespaceURI\n      ,nextSibling\n      ,nodeName\n      ,nodePrincipal\n      ,nodeType\n      ,nodeValue\n      ,ownerDocument\n      ,parentElement\n      ,parentNode\n      ,prefix\n      ,previousSibling\n      ,textContent\".split ','\n  \n  nodeMethods: ->\n    return \"\n      appendChild,\n      cloneNode,\n      compareDocumentPosition,\n      contains,\n      getUserData,\n      hasAttributes,\n      hasChildNodes,\n      insertBefore,\n      isDefaultNamespace,\n      isEqualNode,\n      isSameNode,\n      isSupported,\n      lookupNamespaceURI,\n      lookupPrefix,\n      normalize,\n      removeChild,\n      replaceChild,\n      setUserData\n    \".split ','\n\n  elmtMethods: ->\n    return \"\n      getAttributeNS,\n      getAttributeNode,\n      getAttributeNodeNS,\n      getBoundingClientRect,\n      undefined,\n      getClientRects,\n      undefined,\n      getElementsByClassName,\n      getElementsByTagName,\n      getElementsByTagNameNS,\n      hasAttribute,\n      hasAttributeNS,\n      insertAdjacentHTML,\n      matches,\n      querySelector,\n      querySelectorAll,\n      removeAttribute,\n      removeAttributeNS,\n      removeAttributeNode,\n      requestFullscreen,\n      requestPointerLock,\n      scrollIntoView,\n      setAttribute,\n      setAttributeNS,\n      setAttributeNode,\n      setAttributeNodeNS,\n      setCapture,\n      supports,\n      getAttribute\n    \".split ','\n\n  htmlElmtMethods: ->\n    [\n      'blur'\n      'click'\n      'focus'\n    ]\n\n\n","window.R = class Route\n  currentCommand: []\n  currentPipers: []\n  currentPage: {}\n  lastPipers: []\n  pages: {}\n\n  constructor: (@body)->\n    # init\n    if(!window.location.hash) \n      window.location.hash = \"#lei,changyong,1\"\n      currenthash = \"#lei,changyong,1\"\n\n  route: ->\n    hash = window.location.hash.split('#')[1]\n    currenthash = ''\n    window.onhashchange = ->\n      hash = window.location.hash.split('#')[1]\n      command = hash.split('|')[0]\n      # //hash = hash.slice(1, hash.length)\n      pipers = hash.split('|')[1..]\n\n      if command is @currentCommand\n        if pipers is @currentPipers \n          return\n        else\n          @lastPipers = @currentPipers\n          @currentPipers = pipers\n\n          runPipers()\n      else\n        @currentCommand = command\n        [commandName, args...] = command.split(',')\n        command = require \"page/#{commandName}/index\"\n        @currentPage.hide()\n        @body.appendChild \n\n\n\n\n\n  runPipers: ->\n    startRun = false\n    for piper, index in @currentPipers\n      if(not startRun) or (piper is lastPipers[index])\n        return\n        [piperName, args...] = pipers.split ','\n\n","window.Form = class Form extends Block\n  constructor: (className)->\n    super\n    @piece = P.div(className)\n  build: ->\n    @piece = P.div(className)\n\n  trigger: (@_trigger) =>\n    console.log 'trigger', @_trigger\n    @piece.C(@_trigger)\n    @_trigger.onclick =>\n      if @_before\n        @_before()\n      inputs = $('input[name], textarea[name]', @piece.elmt)\n      console.log inputs\n      param = {}\n      for input in inputs\n        input = $(input)\n        param[input.attr('name')] = input.val()\n\n      if Bus.user\n        param.acntId = Bus.user.id\n        param.acntToken = Bus.user.token\n\n      success = (data, status, obj) =>\n        console.log 'data', data\n        console.log obj\n        @_cb(data)\n\n      post = $.post @_url, param, success, 'json'\n      post.fail (xhr, status, error)=>\n        console.log 'fail', status, error\n        @_cb()\n    @piece.elmt.onkeyup = (e) =>\n      if e.which is 13\n        @_trigger.click()\n    @\n\n  before: (@_before) ->\n    @\n  cb: (@_cb) ->\n    @\n\n  url: (@_url) ->\n    @\n\n\n\n\n","window.Icon = (name) ->\n  return P.i(\"fa fa-#{name}\")\n\n","module.exports = class Item\n  piece: {}\n  attr: ''\n  text: ''\n  h: (@attr) ->\n    @\n  label: (@text) ->\n    @\n  build: ->\n    @piece\n\n  hide: @piece.hide()\n  show: @piece.show()\n  remove: @piece.remove()\n\n\n","module.exports = class Link extends Item\n  build: ->\n    @piece = P.a('a link')\n\n\n","module.exports = class LinkRadioSet extends RadioSet\n  build: ->\n    @_items || @_items = []\n    @piece = P.div().C(\n      P.ul('cates').C(\n        for item in @_items\n          item.build()\n      )\n    )\n\n\n  LinkItem: class LinkItem extends Item\n    build: ->\n      @piece = P.li('cate').C(\n        P.button('').C(@D.name).onclick =>\n          @_set.select @\n      )\n","","window.Matter = class Matter extends Block\n  piece: {}\n  build: ->\n    @piece = P.span('')\n\n  constructor:  ->\n    super\n    # @build()\n    # @render()\n    # @on 'change', @render\n    # @on 'destroy', =>\n    #   @piece.destroy()\n\n  render: (@D)->\n    # model = @getTemplateData()\n    element = @piece.elmt\n    holders = element.getElementsByClassName('pieceHolder')\n    elmts = []\n    for elmt in holders\n      elmts.push elmt\n    if element.className?.indexOf('pieceHolder') != -1\n      elmts.push element\n\n    for elmt in elmts\n      attr = elmt.getAttribute('data-holderid')\n      attrView = @[\"#{attr}View\"]\n      if attrView?(@D[attr])\n        elmt.innerHTML = attrView(@D[attr]).elmt?.outerHTML\n      else\n        elmt.innerText = @D[attr]\n    @\n","module.exports = class Popup\n  constructor: (position, elmt)->\n\n","Set = require 'base/Set'\nmodule.exports = class RadioSet extends Set\n  constructor: (models, options) ->\n    super models, options\n    @on 'add', (model) =>\n      @select model\n  selected: {}\n  select: (model) ->\n    @selected?.toggleSelect?()\n    @selected = model\n    @trigger 'select', model\n    model.toggleSelect()\n\n","","window.Set = class Set extends Quite\n  constructor: ->\n    super\n    @attrs(\n      'container'\n      'blocks'\n      'models'\n      'init'\n    )\n    @_blocks = []\n\n  build: ->\n    @_piece = @_container.C(\n      for model in @_models\n        block = @_init model\n        @_blocks.push block\n        block.build()\n    )\n\n  remove: (position) ->\n\n\n  move: (block, position) ->\n    _.move @_blocks, block, position\n    @_container.move block.piece.elmt, position\n\n  insert: (block, position) ->\n    _.insert @_blocks, block, position\n    @_container.insert block.piece, position\n\n\n\n\n  \n\n\n\n","require './Form'\nwindow.TableForm = class TableForm extends Form\n  constructor: (className)->\n    super\n    @piece = P.table(\"table-form #{className}\")\n  build: ->\n    @piece\n\n","window.TableField = class TableField extends Block\n  constructor: ->\n    super\n    @attrs(\n      'title'\n      'name'\n      'autofocus'\n    )\n\n  save: ->\n    @D[@_name] = @view.value()\n    @\n\n  # load: ->\n  #   @view.value(@D[@_name])\n  #   @\n\n  val: (value) =>\n    @view.value(value)\n  build: ->\n    @piece = P.tr().C(\n      P.th().C(\"#{@_title}:\")\n      P.td().C(\n        @buildView()\n        @appendView\n      )\n    )\n\n  buildView: ->\n    @view = P.inputBox(@_name).name(@_name)\n    if value = @D[@_name]\n      @view.value(@D[@_name])\n    if @_autofocus\n      @view.autofocus(true)\n\n    @view\n\n  append: (@appendView) ->\n    @\n\n\n","class Common\n  clearSelection: ->\n    if(document.selection && document.selection.empty) \n        document.selection.empty()\n    else if(window.getSelection) \n        sel = window.getSelection()\n        sel.removeAllRanges()\n  move: (array, current, targetIndex) ->\n    if typeof current isnt 'number'\n      current = array.indexOf(current)\n      # console.log current\n    if targetIndex < 0\n      targetIndex = 0\n    # if targetIndex >= array.length\n\n    array.splice targetIndex, 0, array.splice(current, 1)[0]\n\n  insert: (array, item, position) ->\n    array.splice position, 0, item\n  keycode: (num) ->\n    {keycode_dict} = require './constants'\n    keycode_dict[num]\n\n  url: (url) ->\n    new Url url\n\n  ajax: (url, params, done)->\n    # done = (data, status) =>\n    #   console.log 'data', data\n    #   @D = data\n    #   console.log 'get', @D\n    fail = ->\n      console.log 'error'\n    $.ajax(\n      url: url\n      data: params\n      dataType: 'json'\n      success: done\n      error: fail\n      async: false\n    )\nmodule.exports = new Common()\n\nclass Url\n  constructor: (@url) ->\n\n  get: (attrName) ->\n    $.url(attrName, @url)\n\n","module.exports =\n  keycode_dict:\n      0   : \"\\\\\"          # Firefox reports this keyCode when shift is held\n      8   : \"backspace\"\n      9   : \"tab\"\n      12  : \"num\"\n      13  : \"enter\"\n      16  : \"shift\"\n      17  : \"ctrl\"\n      18  : \"alt\"\n      19  : \"pause\"\n      20  : \"caps\"\n      27  : \"esc\"\n      32  : \"space\"\n      33  : \"pageup\"\n      34  : \"pagedown\"\n      35  : \"end\"\n      36  : \"home\"\n      37  : \"left\"\n      38  : \"up\"\n      39  : \"right\"\n      40  : \"down\"\n      44  : \"print\"\n      45  : \"insert\"\n      46  : \"delete\"\n      48  : \"0\"\n      49  : \"1\"\n      50  : \"2\"\n      51  : \"3\"\n      52  : \"4\"\n      53  : \"5\"\n      54  : \"6\"\n      55  : \"7\"\n      56  : \"8\"\n      57  : \"9\"\n      65  : \"a\"\n      66  : \"b\"\n      67  : \"c\"\n      68  : \"d\"\n      69  : \"e\"\n      70  : \"f\"\n      71  : \"g\"\n      72  : \"h\"\n      73  : \"i\"\n      74  : \"j\"\n      75  : \"k\"\n      76  : \"l\"\n      77  : \"m\"\n      78  : \"n\"\n      79  : \"o\"\n      80  : \"p\"\n      81  : \"q\"\n      82  : \"r\"\n      83  : \"s\"\n      84  : \"t\"\n      85  : \"u\"\n      86  : \"v\"\n      87  : \"w\"\n      88  : \"x\"\n      89  : \"y\"\n      90  : \"z\"\n      91  : \"cmd\"\n      92  : \"cmd\"\n      93  : \"cmd\"\n      96  : \"num_0\"\n      97  : \"num_1\"\n      98  : \"num_2\"\n      99  : \"num_3\"\n      100 : \"num_4\"\n      101 : \"num_5\"\n      102 : \"num_6\"\n      103 : \"num_7\"\n      104 : \"num_8\"\n      105 : \"num_9\"\n      106 : \"num_multiply\"\n      107 : \"num_add\"\n      108 : \"num_enter\"\n      109 : \"num_subtract\"\n      110 : \"num_decimal\"\n      111 : \"num_divide\"\n      124 : \"print\"\n      144 : \"num\"\n      145 : \"scroll\"\n      186 : \";\"\n      187 : \"=\"\n      188 : \",\"\n      189 : \"-\"\n      190 : \".\"\n      191 : \"/\"\n      192 : \"`\"\n      219 : \"[\"\n      220 : \"\\\\\"\n      221 : \"]\"\n      222 : \"\\'\"\n      223 : \"`\"\n      224 : \"cmd\"\n      225 : \"alt\"\n      # Opera weirdness\n      57392   : \"ctrl\"\n      63289   : \"num\"\n      # Firefox weirdness\n      59 : \";\"\n","common = require './common'\nconsole.log 'insert', _.move\nconsole.log 'common', common.insert\n_.extend _, common\nconsole.log 'insert', _.move\n","common = require '../common'\nmodule.exports = class TestCommon\n  move: ->\n    # array = [0, 1, 2, 3, 4, 5, 6]\n    # common.move array, 4, -2\n    \n    array = ['zero', 'one', 'two', 'three']\n    # common.move array, 1, 2\n    common.move array, 'one', 2\n    console.log array\n\n\n\n","methods = [\"Element.getAttributeNS\", \"Element.getAttributeNode\", \"Element.getAttributeNodeNS\", \"Element.getBoundingClientRect\", \"\", \"Element.getClientRects\", \"\", \"Element.getElementsByClassName\", \"Element.getElementsByTagName\", \"Element.getElementsByTagNameNS\", \"Element.hasAttribute\", \"Element.hasAttributeNS\", \"Element.insertAdjacentHTML\", \"Element.matches\", \"Element.querySelector\", \"Element.querySelectorAll\", \"Element.removeAttribute\", \"Element.removeAttributeNS\", \"Element.removeAttributeNode\", \"Element.requestFullscreen\", \"Element.requestPointerLock\", \"Element.scrollIntoView\", \"Element.setAttribute\", \"Element.setAttributeNS\", \"Element.setAttributeNode\", \"Element.setAttributeNodeNS\", \"Element.setCapture\", \"Element.supports\", \"element.getAttribute\", \"\"]\n\nfor method in methods\n  console.log method.split('.')[1] + ','\n","frame = require 'pages/common/frame'\nwindow.onhashchange = =>\n  # console.log 'changed'\n  route()\n\nmodule.exports = route = (hash)->\n  if not hash\n    hash = new Hash() # hash to current hashstr\n  page = require \"pages/#{hash.page()}\"\n  # page = new Page()\n  # console.log 'page', page.dataSrc\n  if page.needAcnt and not (Bus.user and Bus.user.token)\n    new Hash('curtain').params(target=\n      target: hash.hashStr()\n    ).trigger()\n    return\n\n  hash.action() or hash.action('index')\n  if page is Bus.currentPage\n    if page[hash.action()]\n      page[hash.action()](hash.params())\n  else\n    window.onkeyup = null\n    # console.log Bus.currentPage\n    if Bus.currentPage\n      Bus.currentPage.remove()\n    # document.body.appendChild page.build().elmt\n    if hash.page() is 'curtain'\n      frame.piece.hide()\n      page.build()\n      document.body.appendChild page.piece.elmt\n      # console.log 'curtain', page\n    else\n      console.log page\n      frame.piece.show()\n      page.render(hash.params())\n      page.build()\n      frame.setContent page\n\n    # Bus.on hash._page, =>\n    #   page.render()\n    #   page.build()\n      # console.log 'page', page\n    Bus.currentPage = page\n\n    if page[hash.action()]\n      page[hash.action()]()\n    # else\n      # page['build']()\n\n#\n# _.extend route, Backbone.Events\n# route.on 'jump', (hash) ->\n#   route hash\n#\n# window.jump = (hash) ->\n#   route.trigger 'jump', hash\n","module.exports = class ActionLink\n  text: ''\n  actionName: ''\n  action: ->\n  onclick: (@action) ->\n  flag: (@actionName) ->\n\n  build: ->\n    @piece = P.a().href(\"#\").h(@text).onclick(@action)\n    if @actionName\n      @piece.C(P.i().class(S[\"icon-#{actionName}\"]))\n    return @piece\n\n\n"]}